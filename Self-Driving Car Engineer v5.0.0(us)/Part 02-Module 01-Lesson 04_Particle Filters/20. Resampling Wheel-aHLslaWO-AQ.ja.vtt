WEBVTT
Kind: captions
Language: ja

00:00:00.000 --> 00:00:06.000
これが再サンプリングステップの実装で
先ほどの図と同じロジックです

00:00:06.000 --> 00:00:11.000
P3と呼ばれる新しい粒子の集合を作ります
最初は空の集合です

00:00:11.000 --> 00:00:15.000
このルーチンの中で再サンプリングする度に

00:00:15.000 --> 00:00:21.000
前の粒子の集合からindexに粒子を加えます

00:00:21.000 --> 00:00:23.750
メインループがこれで

00:00:23.750 --> 00:00:28.000
最後にP3をPに戻して割り当てます
これが再サンプリングステップです

00:00:28.000 --> 00:00:31.000
一番最初のインデックスは無作為に抽出されます

00:00:31.000 --> 00:00:34.000
これがすべてのインデックスについての
均一なランダムサンプリングステップです

00:00:34.000 --> 00:00:38.000
0．0にセットして実行し変数βを得ました

00:00:38.000 --> 00:00:43.000
少しだけ速くするために
Wの最大値は置いておきます

00:00:43.000 --> 00:00:48.000
最大値がここでは重要ではありません

00:00:48.000 --> 00:00:53.620
しかしN値の粒子を作りたいので
方法としてはβに

00:00:53.620 --> 00:00:57.190
2倍の均一な乱数を加えます

00:00:57.190 --> 00:01:00.000
最大重みWはその範囲で最大となります

00:01:00.000 --> 00:01:03.000
最大重みWを2倍すると
とても大きなステップになるでしょう

00:01:03.000 --> 00:01:06.000
しかし0から1の間にある
ランダム変数を加えることで

00:01:06.000 --> 00:01:10.270
0と2×MWに一様性があります

00:01:11.000 --> 00:01:16.000
変数βが
現在のインデックスの重みよりも大きいうちに

00:01:16.000 --> 00:01:19.000
βの値からこの重みを引きます

00:01:19.000 --> 00:01:23.000
そして指数を1ずつ足してNで割り

00:01:23.000 --> 00:01:27.000
粒子の総数が小さくなれば終わりです

00:01:27.000 --> 00:01:32.000
ただ粒子を選び出して、足して、
そして追加してを繰り返します

00:01:32.000 --> 00:01:38.000
このすべてのプロシージャはやや複雑なので
正しく理解できたら感心です

00:01:38.000 --> 00:01:40.000
学ぶものが何かあればうれしいです

00:01:40.000 --> 00:01:43.000
一度理解すればプログラミングが簡単になり

00:01:43.000 --> 00:01:46.000
粒子フィルタを書く度に利用できます

00:01:46.000 --> 00:01:51.540
このプロシージャに特定のドメインはないので
再考する必要はありません

00:01:52.000 --> 00:01:56.000
さて実行すると空の集合には何も起こりません

00:01:56.000 --> 00:02:00.000
そこで得られた粒子の集合を出力します

00:02:00.000 --> 00:02:02.000
ここにprint Pがあります

00:02:02.000 --> 00:02:06.000
これを実行すると1，000個の粒子を得ますね

00:02:06.000 --> 00:02:07.990
数は多いですがよく見てみましょう

00:02:09.600 --> 00:02:12.260
この1番目の値を見てみると

00:02:12.260 --> 00:02:18.000
ほとんど同じで76から82の間です

00:02:18.000 --> 00:02:24.440
2つ目は42、44、43、41、39、38です

00:02:26.000 --> 00:02:31.000
ここで得た粒子の集合は
すべて同じ場所にあります

00:02:31.000 --> 00:02:34.000
先ほどのように
完全無作為の粒子の集合を持つ代わりに

00:02:34.000 --> 00:02:36.150
再サンプリングステップで

00:02:36.150 --> 00:02:40.000
xとyの位置によく似ている粒子が
得られることがわかります

00:02:40.000 --> 00:02:43.000
方向とはそれほど似ていません

00:02:43.000 --> 00:02:47.700
勢いよくジャンプする理由ですが

00:02:47.700 --> 00:02:52.000
今のところ1ヵ所しかないので

00:02:52.000 --> 00:02:57.000
ランドマークまでの距離は
方向とは無関係だからです

00:02:57.000 --> 00:02:59.740
保護された観測では方向は影響を及ぼさないので

00:03:00.380 --> 00:03:03.510
選択においては何の役割も果たしません

00:03:03.510 --> 00:03:06.000
もう一度4つのランドマークで点をとり

00:03:06.000 --> 00:03:08.000
そこまでの距離を測ります

00:03:08.000 --> 00:03:12.000
この方向を向いているロボットは
特定の距離の組み合わせを持っています

00:03:12.000 --> 00:03:16.000
このように別の方向を向いているロボットは

00:03:16.000 --> 00:03:18.290
同じ距離の組み合わせがあるので

00:03:18.290 --> 00:03:21.830
粒子の未来において
進行方向には何の役割もありません

