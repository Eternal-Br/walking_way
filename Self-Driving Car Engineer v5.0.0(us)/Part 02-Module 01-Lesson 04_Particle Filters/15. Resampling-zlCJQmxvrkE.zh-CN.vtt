WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.000
我们发现 这实际上比想的更难

00:00:04.000 --> 00:00:06.000
但我会教你怎么做

00:00:06.000 --> 00:00:09.000
完成之后 这段代码就可以重复

00:00:09.000 --> 00:00:11.000
使用到任何粒子滤波器上

00:00:11.000 --> 00:00:15.000
首先 我要强调一下重采样的概念

00:00:15.000 --> 00:00:21.000
我们这里有 N 个粒子 每个有 3 个值

00:00:21.000 --> 00:00:24.000
一共有 N 个 另还有权重

00:00:24.000 --> 00:00:27.000
它们是简单的单精度浮点数或连续值

00:00:27.000 --> 00:00:31.000
我们使用大写 W 作为这些权重的总和

00:00:31.000 --> 00:00:36.000
为了方面接下来的操作 对它们归一化

00:00:36.000 --> 00:00:39.000
得到归一化权重 α

00:00:39.000 --> 00:00:45.000
α1 等于权重 1 除以正规化子 W

00:00:45.000 --> 00:00:49.000
依次类推 直到 αN

00:00:49.000 --> 00:00:56.000
很显然 所有 α 值的和等于 1

00:00:56.000 --> 00:00:58.000
这是归一化的必然结果

00:00:58.000 --> 00:01:02.000
重采样时 会把所有这些粒子

00:01:02.000 --> 00:01:05.000
和归一化的权重放到一个大包中

00:01:05.000 --> 00:01:09.000
然后抽取 N 个粒子并用新粒子

00:01:09.000 --> 00:01:14.000
替换 每个粒子被抽中的概率为 α

00:01:14.000 --> 00:01:17.000
例如 α2 可能比较大

00:01:17.000 --> 00:01:20.000
因此 我们选了 P2

00:01:20.000 --> 00:01:23.000
α3 也比较大 因此我们选了这个

00:01:23.000 --> 00:01:27.000
α4 可能很小 但实际上也可能选到

00:01:27.000 --> 00:01:31.000
这样 我们这里有 P4 然后我们可能再次抽到 P2

00:01:31.000 --> 00:01:36.000
因此 我们这里就有 P2 的两个版本 甚至 3 个版本

00:01:36.000 --> 00:01:38.000
具体取决于概率

00:01:38.000 --> 00:01:40.000
这里有 N 个粒子

00:01:40.000 --> 00:01:43.000
因此这里要选 N 次 因此我刚刚说 通过替换

00:01:43.000 --> 00:01:46.000
我们可以抽取同一个粒子的多个副本

00:01:46.000 --> 00:01:51.000
最终 这里的归一化权重 α 比较高的粒子

00:01:51.000 --> 00:01:56.000
在这个新组中出现的概率会更高

00:01:56.000 --> 00:01:59.000
这叫做重采样

00:01:59.000 --> 00:02:03.000
一定要理解这个概念

00:02:03.000 --> 00:02:05.000
下面是几个问题

00:02:05.000 --> 00:02:08.000
假设我们有 5 个粒子 重要性权重如下：

00:02:08.000 --> 00:02:16.000
0.6、1.2、2.4、0.6 和 1.2

00:02:16.000 --> 00:02:19.000
在重采样过程中

00:02:19.000 --> 00:02:24.000
如果我根据归一化的重要性权重随机抽取一个粒子

00:02:24.000 --> 00:02:27.000
那么抽取到 P1

00:02:27.000 --> 00:02:29.000
P2

00:02:29.000 --> 99:59:59.999
P4 和 P5 的概率分别是多少？

