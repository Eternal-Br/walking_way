<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   Tips and Tricks
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      Extended Kalman Filters Project
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. Back to Bayes Theorem.html">
       01. Back to Bayes Theorem
      </a>
     </li>
     <li class="">
      <a href="02. Intro to Extended Kalman Filter Project.html">
       02. Intro to Extended Kalman Filter Project
      </a>
     </li>
     <li class="">
      <a href="03. Data File for EKF project.html">
       03. Data File for EKF project
      </a>
     </li>
     <li class="">
      <a href="04. File Structure.html">
       04. File Structure
      </a>
     </li>
     <li class="">
      <a href="05. Main.cpp.html">
       05. Main.cpp
      </a>
     </li>
     <li class="">
      <a href="06. Project Code.html">
       06. Project Code
      </a>
     </li>
     <li class="">
      <a href="07. Tips and Tricks.html">
       07. Tips and Tricks
      </a>
     </li>
     <li class="">
      <a href="08. Project Resources.html">
       08. Project Resources
      </a>
     </li>
     <li class="">
      <a href="09. Project Instructions for workspaces.html">
       09. Project Instructions for workspaces
      </a>
     </li>
     <li class="">
      <a href="10. Project Extended Kalman Filter GPU.html">
       10. Project Extended Kalman Filter GPU
      </a>
     </li>
     <li class="">
      <a href="11. Project Instructions for local setup.html">
       11. Project Instructions for local setup
      </a>
     </li>
     <li class="">
      <a href="12. uWebSocketIO Starter Guide.html">
       12. uWebSocketIO Starter Guide
      </a>
     </li>
     <li class="">
      <a href="13. Environment Setup (Windows).html">
       13. Environment Setup (Windows)
      </a>
     </li>
     <li class="">
      <a href="14. Environment Setup (Linux).html">
       14. Environment Setup (Linux)
      </a>
     </li>
     <li class="">
      <a href="15. Environment Setup (Mac).html">
       15. Environment Setup (Mac)
      </a>
     </li>
     <li class="">
      <a href="16. Compiling and Running the Project.html">
       16. Compiling and Running the Project
      </a>
     </li>
     <li class="">
      <a href="17. Share your success - EKF.html">
       17. Share your success - EKF
      </a>
     </li>
     <li class="">
      <a href="Project Description - Extended Kalman Filters.html">
       Project Description - Extended Kalman Filters
      </a>
     </li>
     <li class="">
      <a href="Project Rubric - Extended Kalman Filters.html">
       Project Rubric - Extended Kalman Filters
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          07. Tips and Tricks
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h3 id="summary-of-what-needs-to-be-done">
          Summary of What Needs to Be Done
         </h3>
         <ol>
          <li>
           In
           <code>
            tools.cpp
           </code>
           , fill in the functions that calculate root mean squared error (RMSE)  and the Jacobian matrix.
          </li>
          <li>
           Fill in the code in
           <code>
            FusionEKF.cpp
           </code>
           . You'll need to initialize the Kalman Filter, prepare the Q and F matrices for the prediction step, and call the radar and lidar update functions.
          </li>
          <li>
           In
           <code>
            kalman_filter.cpp
           </code>
           , fill out the
           <code>
            Predict()
           </code>
           ,
           <code>
            Update()
           </code>
           , and
           <code>
            UpdateEKF()
           </code>
           functions.
          </li>
         </ol>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h3 id="tips-and-tricks">
          Tips and Tricks
         </h3>
         <h5 id="review-the-previous-lessons">
          Review the Previous Lessons
         </h5>
         <ul>
          <li>
           Review the previous lessons! Andrei, Dominik and co. have given you everything you need. In fact, you've built most of an Extended Kalman Filter already! Take a look at the programming assignments and apply the techniques you used to this project.
          </li>
         </ul>
         <h5 id="no-need-to-tune-parameters">
          No Need to Tune Parameters
         </h5>
         <ul>
          <li>
           The R matrix values and Q noise values are provided for you. There is no need to tune these parameters for this project.
          </li>
         </ul>
         <h5 id="initializing-the-state-vector">
          Initializing the State Vector
         </h5>
         <ul>
          <li>
           You'll need to initialize the state vector with the first sensor measurement.
          </li>
          <li>
           Although radar gives velocity data in the form of the range rate
           <span class="mathquill ud-math">
            \dot{\rho}
           </span>
           , a radar measurement does not contain enough information to determine the state variable velocities
           <span class="mathquill ud-math">
            v_x
           </span>
           and
           <span class="mathquill ud-math">
            v_y
           </span>
           . You can, however, use the radar measurements
           <span class="mathquill ud-math">
            \rho
           </span>
           and
           <span class="mathquill ud-math">
            \phi
           </span>
           to initialize the state variable locations
           <span class="mathquill ud-math">
            p_x
           </span>
           and
           <span class="mathquill ud-math">
            p_y
           </span>
           .
          </li>
         </ul>
         <h5 id="calculating-y--z---h--x">
          Calculating y = z - H * x'
         </h5>
         <ul>
          <li>
           For lidar measurements, the error equation is
           <code>
            y = z - H * x'
           </code>
           . For radar measurements, the functions that map the x vector [px, py, vx, vy] to polar coordinates are non-linear. Instead of using H to calculate
           <code>
            y = z - H * x'
           </code>
           , for radar measurements you'll have to use the equations that map from cartesian to polar coordinates:
           <code>
            y = z - h(x')
           </code>
           .
          </li>
         </ul>
         <h5 id="normalizing-angles">
          Normalizing Angles
         </h5>
         <ul>
          <li>
           In C++,
           <code>
            atan2()
           </code>
           returns values between -pi and pi. When calculating phi in
           <code>
            y = z - h(x)
           </code>
           for radar measurements, the resulting angle phi in the y vector should be adjusted so that it is between -pi and pi. The Kalman filter is expecting small angle values between the range -pi and pi. HINT: when working in radians, you can add
           <span class="mathquill ud-math">
            2\pi
           </span>
           or subtract
           <span class="mathquill ud-math">
            2\pi
           </span>
           until the angle is within the desired range.
          </li>
         </ul>
         <h5 id="avoid-divide-by-zero-throughout-the-implementation">
          Avoid Divide by Zero throughout the Implementation
         </h5>
         <ul>
          <li>
           Before and while calculating the Jacobian matrix Hj, make sure your code avoids dividing by zero. For example, both the x and y values might be zero or
           <code>
            px*px + py*py
           </code>
           might be close to zero. What should be done in those cases?
          </li>
         </ul>
         <h5 id="test-your-implementation">
          Test Your Implementation
         </h5>
         <ul>
          <li>
           Test! We're giving you the ability to analyze your output data and calculate RMSE. As you make changes, keep testing your algorithm! If you are getting stuck, add print statements to pinpoint any issues. But please remove extra print statements before turning in the code.
          </li>
         </ul>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h3 id="ideas-for-standing-out">
          Ideas for Standing out!
         </h3>
         <p>
          The Kalman Filter general processing flow that you've learned in the preceding lessons gives you the basic knowledge needed to track an object. However, there are ways that you can make your algorithm more efficient!
         </p>
         <ul>
          <li>
           Dealing with the first frame, in particular, offers opportunities for improvement.
          </li>
          <li>
           Experiment and see how low your RMSE can go!
          </li>
          <li>
           Try removing radar or lidar data from the filter. Observe how your estimations change when running against a single sensor type! Do the results make sense given what you know about the nature of radar and lidar data?
          </li>
          <li>
           We give you starter code, but you are not required to use it! You may want to start from scratch if:
           <br/>
           You want a bigger challenge!
           <br/>
           You want to redesign the project architecture. There are many valid design patterns for approaching the Kalman Filter algorithm. Feel free to experiment and try your own!
           <br/>
           You want to use a different coding style, eg. functional programming. While C++ code naturally tends towards being object-oriented in nature, it's perfectly reasonable to attempt a functional approach. Give it a shot and maybe you can improve its efficiency!
          </li>
         </ul>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="08. Project Resources.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('07. Tips and Tricks')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>
