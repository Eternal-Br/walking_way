WEBVTT
Kind: captions
Language: ja-JP

00:00:00.000 --> 00:00:03.345
お帰りなさい次のコンセプトでは

00:00:03.345 --> 00:00:05.990
車両のローカライゼーションに非常に重要となるステップを

00:00:05.990 --> 00:00:09.540
粒子フィルターを実装しながら見ていきます

00:00:09.540 --> 00:00:12.540
最終的な目的は粒子の位置で

00:00:12.540 --> 00:00:16.725
実際の車両の位置をどれだけうまく表せるかを確認することです

00:00:16.725 --> 00:00:22.395
これを行うには 車両センサーと地図入力を使用して各粒子に重みづけする必要があります

00:00:22.395 --> 00:00:24.250
次のコンセプトでは

00:00:24.250 --> 00:00:27.825
ひとつの粒子でこのプロセスを見ていきます

00:00:27.825 --> 00:00:32.805
車両センサーのランドマーク観測を車両の座標系から

00:00:32.805 --> 00:00:34.710
地図の座標系に変換し

00:00:34.710 --> 00:00:40.260
変換した観測を地図上の最も近いランドマークに関連付けます

00:00:40.260 --> 00:00:42.630
それぞれの観測に多変数のガウス確率密度関数

00:00:42.630 --> 00:00:47.220
を適用して粒子の重みを更新します

00:00:47.220 --> 00:00:52.065
次に生成されたものの積をとって全観測の確率を結合します

00:00:52.065 --> 00:00:55.300
この最終の重みが事後確率です

00:00:55.300 --> 00:00:58.245
この動画では最初のステップとなる

00:00:58.245 --> 00:01:01.795
観測を地図座標に変換するステップを行います

00:01:01.795 --> 00:01:06.615
この図は車両が観測している車両近くの 3 つのランドマークを表しています

00:01:06.615 --> 00:01:11.455
L5 L1 と L2 です

00:01:11.455 --> 00:01:14.280
車両からは観測対象 1

00:01:14.280 --> 00:01:17.535
観測対象 2 観測対象 3 が見えます

00:01:17.535 --> 00:01:19.245
慣例では 車両座標の

00:01:19.245 --> 00:01:21.870
X は進行方向に対する向きを指し

00:01:21.870 --> 00:01:24.870
Y は左に 90 度回転させた向き

00:01:24.870 --> 00:01:31.165
を指しているのを覚えておいてください

00:01:31.165 --> 00:01:36.775
図の青色のボックスは粒子を表し これを更新していきます

00:01:36.775 --> 00:01:41.850
更新をするため 車両の観測を地図座標に変換します

00:01:41.850 --> 00:01:45.080
変換は 車両座標の位置付けを行う

00:01:45.080 --> 00:01:49.740
三角関数を使ってデータを地図座標に渡します

00:01:49.740 --> 00:01:52.665
この関数は同次変換と呼ばれ

00:01:52.665 --> 00:01:56.280
平行移動における回転から成っています

00:01:56.280 --> 00:02:01.255
基本的には 地図の座標系を回転させて粒子の視点に合わせるだけです

00:02:01.255 --> 00:02:06.195
そのあと 元の枠を粒子の位置に移動します

00:02:06.195 --> 00:02:09.765
これらのステップは 1 つの行列の乗算で行うことができます

00:02:09.765 --> 00:02:12.650
同次変換を使用します

00:02:12.650 --> 00:02:14.550
粒子にはマイナス 90 度の方位と

00:02:14.550 --> 00:02:19.420
地図位置 (4,5) があります

00:02:19.420 --> 00:02:24.090
座標枠を描くとプロセスを視覚化できます

00:02:24.090 --> 00:02:28.840
次に 地図座標系で粒子枠の位置を確定します

00:02:28.840 --> 00:02:32.400
全体の視点から粒子の枠を得るには

00:02:32.400 --> 00:02:35.940
マイナス 90 度に回転させてから

00:02:35.940 --> 00:02:39.010
粒子の位置まで移動させます

00:02:39.010 --> 00:02:42.795
観測座標 XC と YC

00:02:42.795 --> 00:02:50.485
粒子座標 XP と YP 回転確度 θ のマイナス 90 度を渡します

00:02:50.485 --> 00:02:56.070
この同次変換で 今行った変換が行われます

00:02:56.070 --> 00:03:01.740
追加で 3 行目を持つこの定式化は同次座標と呼ばれます

00:03:01.740 --> 00:03:04.830
詳しくは講師注記をご覧ください

00:03:04.830 --> 00:03:08.570
この同次変換を分解してみましょう

00:03:08.570 --> 00:03:14.580
左上にある 2x2 行列は Z 軸に関する回転成分を表しています

00:03:14.580 --> 00:03:18.150
今は 2 次元でのみ行っている点に注意してください

00:03:18.150 --> 00:03:21.975
この 3 列目は転換成分を表しています

00:03:21.975 --> 00:03:24.300
変換を完了するため

00:03:24.300 --> 00:03:27.180
車両座標の観測にかけ合わせます

00:03:27.180 --> 00:03:31.245
要約すると この同次変換は

00:03:31.245 --> 00:03:35.715
地図枠内での車両座標から地図座標への変換になります

00:03:35.715 --> 00:03:37.770
車両座標系の観測と

00:03:37.770 --> 00:03:42.240
地図座標系の粒子の姿勢を用いると

00:03:42.240 --> 00:03:46.710
観測を地図座標に変換して 粒子の最終的な重み

00:03:46.710 --> 00:03:51.970
を確定するために必要なすべてのものが揃います頑張ってください

