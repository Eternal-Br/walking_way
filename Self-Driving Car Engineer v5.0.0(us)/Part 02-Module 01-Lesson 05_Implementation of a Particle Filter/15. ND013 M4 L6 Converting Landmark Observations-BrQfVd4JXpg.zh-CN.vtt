WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:03.345
欢迎回来 在下面的几个页面中

00:00:03.345 --> 00:00:05.990
我们会实现一个粒子滤波器

00:00:05.990 --> 00:00:09.540
在这个过程中 了解车辆定位的几个关键步骤

00:00:09.540 --> 00:00:12.540
我们的最终目标 是确定每个粒子位置

00:00:12.540 --> 00:00:16.725
在表述车辆实际位置方面的准确性

00:00:16.725 --> 00:00:22.395
要做到这一点 我们必须使用车辆传感器和地图输入为每个粒子赋权

00:00:22.395 --> 00:00:24.250
在下面的几个页面里

00:00:24.250 --> 00:00:27.825
我们会把车辆传感器的地标观察数据

00:00:27.825 --> 00:00:32.805
从车辆坐标系统转换为地图坐标系统

00:00:32.805 --> 00:00:34.710
把转换后的观察结果和地图上最近的地标相关联

00:00:34.710 --> 00:00:40.260
从而了解单个粒子的这一过程

00:00:40.260 --> 00:00:42.630
首先为每个测量值应用

00:00:42.630 --> 00:00:47.220
多变量的高斯概率密度函数 更新粒子权重

00:00:47.220 --> 00:00:52.065
然后计算所有测量值的概率 相乘得到合并概率

00:00:52.065 --> 00:00:55.300
最终权重是我们的后验概率

00:00:55.300 --> 00:00:58.245
在本视频中 我们会学习第一步

00:00:58.245 --> 00:01:01.795
把观察数据转换为地图坐标

00:01:01.795 --> 00:01:06.615
这里的图描述了一辆车观察到三个附近地标

00:01:06.615 --> 00:01:11.455
L5、L1 和 L2

00:01:11.455 --> 00:01:14.280
车辆将其视作观察 1

00:01:14.280 --> 00:01:17.535
观察 2、以及观察 3

00:01:17.535 --> 00:01:19.245
记住 按照惯例

00:01:19.245 --> 00:01:21.870
我们定义车辆坐标时 X 指向

00:01:21.870 --> 00:01:24.870
车辆的航向

00:01:24.870 --> 00:01:31.165
Y 垂直于 X 指向车辆的左方

00:01:31.165 --> 00:01:36.775
图中的蓝色方框代表一个粒子 我们需要更新它的权重

00:01:36.775 --> 00:01:41.850
要做到这一点 我们要把车辆的观察数据转换为地图坐标

00:01:41.850 --> 00:01:45.080
转换时 我们通过一个绘制车辆地图坐标的三角函数

00:01:45.080 --> 00:01:49.740
把数据传递到地图坐标上

00:01:49.740 --> 00:01:52.665
这个函数叫做齐次变换

00:01:52.665 --> 00:01:56.280
它由一次平移中的一次旋转组成

00:01:56.280 --> 00:02:01.255
本质上来说 我们需要旋转地图画面 来匹配粒子视角

00:02:01.255 --> 00:02:06.195
然后 我们把画面的圆点移动到粒子位置

00:02:06.195 --> 00:02:09.765
我们可以使用齐次变换

00:02:09.765 --> 00:02:12.650
通过一次性的矩阵乘法完成这两步操作

00:02:12.650 --> 00:02:14.550
我们知道 粒子的航向为

00:02:14.550 --> 00:02:19.420
负 90 度 地图位置为 (4,5)

00:02:19.420 --> 00:02:24.090
我们可以在地图原点绘制一个坐标系 可视化这个操作

00:02:24.090 --> 00:02:28.840
然后在地图坐标系中确定粒子位置

00:02:28.840 --> 00:02:32.400
要从数学视角达到粒子位置

00:02:32.400 --> 00:02:35.940
我们首先需要旋转负 90 度 就象这样

00:02:35.940 --> 00:02:39.010
然后移动到粒子位置 具体方法是

00:02:39.010 --> 00:02:42.795
传递观察坐标 Xc 和 Yc

00:02:42.795 --> 00:02:50.485
粒子坐标 Xp 和 Yp、以及负 90 度的旋转角度 θ

00:02:50.485 --> 00:02:56.070
就是这里的这个齐次变换

00:02:56.070 --> 00:03:01.740
这里的这个公式 加上下面额外的第三行 被叫做齐次坐标

00:03:01.740 --> 00:03:04.830
你可以在讲师注释中发现更多详情

00:03:04.830 --> 00:03:08.570
我们迅速分解这个齐次变换

00:03:08.570 --> 00:03:14.580
左上角的 2 乘 2 矩阵代表围绕 Z 轴的旋转分量

00:03:14.580 --> 00:03:18.150
记住 我们现在是在二维平面操作

00:03:18.150 --> 00:03:21.975
这里的第三栏代表平移分量

00:03:21.975 --> 00:03:24.300
要完成变换 我们需要遍历车辆坐标

00:03:24.300 --> 00:03:27.180
的乘法操作

00:03:27.180 --> 00:03:31.245
总结一下 这个齐次变换是从车辆坐标变换为

00:03:31.245 --> 00:03:35.715
地图坐标系中的地图坐标

00:03:35.715 --> 00:03:37.770
使用车辆坐标系统中的观察数据

00:03:37.770 --> 00:03:42.240
以及地图系统中的粒子位置

00:03:42.240 --> 00:03:46.710
我们就可以把观察数据转换为地图坐标

00:03:46.710 --> 00:03:51.970
并最终确定粒子的权重 祝你好运！

