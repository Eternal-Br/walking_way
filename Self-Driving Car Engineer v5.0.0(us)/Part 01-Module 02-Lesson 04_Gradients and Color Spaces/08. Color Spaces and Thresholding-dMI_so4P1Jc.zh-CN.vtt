WEBVTT
Kind: captions
Language: zh-CN

00:00:00.470 --> 00:00:04.389
我们已经知道 之前所见到的公路图像全部是由

00:00:04.389 --> 00:00:07.199
红色 绿色和蓝色的数值组成的 或者简称为 RGB

00:00:07.200 --> 00:00:10.359
此前 我们在这些 RGB 值上同时使用了掩膜和颜色阈值

00:00:10.359 --> 00:00:14.914
目的在于选出属于亮白色车道线的像素

00:00:14.914 --> 00:00:19.739
这种车道检测方法与梯度检测协同工作

00:00:19.739 --> 00:00:23.159
梯度检测依赖于测得的灰度强度

00:00:23.160 --> 00:00:27.509
然而 不同光线条件的图像中 或车道颜色为其他颜色（例如黄色）时

00:00:27.510 --> 00:00:31.198
RGB 阈值处理效果不佳

00:00:31.198 --> 00:00:33.170
具体解释一下

00:00:33.170 --> 00:00:34.770
以这张公路图像为例

00:00:34.770 --> 00:00:37.880
我们可以将其分解为单独的 RGB 分量

00:00:37.880 --> 00:00:40.160
这些分量通常称为颜色通道

00:00:40.159 --> 00:00:44.079
这是采用灰度强度代表的三个颜色通道

00:00:44.079 --> 00:00:47.939
亮度更大的像素分别表示

00:00:47.939 --> 00:00:49.609
更红 更绿 或更蓝

00:00:49.609 --> 00:00:52.149
看看车道线 你会看到白色和黄色车道线

00:00:52.149 --> 00:00:55.949
在红色和绿色通道较亮

00:00:55.950 --> 00:00:57.415
但如果观察蓝色通道

00:00:57.414 --> 00:00:59.750
会发现黄色车道线内几乎没有蓝色分量

00:01:00.789 --> 00:01:05.250
因此 红色 (R) 和绿色 (G) 通道对于分离出

00:01:05.250 --> 00:01:07.060
白色和黄色的车道像素最有用

00:01:07.060 --> 00:01:10.189
不过你也能看到 这些图像靠后区域亮度不同

00:01:10.189 --> 00:01:13.259
红色和绿色分量发生了变化

00:01:13.260 --> 00:01:14.820
在阴影区域的值变得更低

00:01:14.819 --> 00:01:18.729
并且在极亮情况下 无法连续地识别车道线

00:01:18.730 --> 00:01:21.740
我们看一下 有没有更好的检测这些车道线的办法

00:01:21.739 --> 00:01:24.829
除了用红 绿 蓝色通道表示以外

00:01:24.829 --> 00:01:28.379
还有很多其他颜色表示方式

00:01:28.379 --> 00:01:32.729
这些不同的色彩表示方式通常称为色彩空间

00:01:32.730 --> 00:01:36.040
RGB 是红绿蓝色彩空间

00:01:36.040 --> 00:01:38.859
你可以把它看做一个三维空间

00:01:38.859 --> 00:01:44.569
在该空间里 任何颜色都可以通过红绿蓝的三维坐标值表示

00:01:44.569 --> 00:01:49.639
此外 还有 HSV 色彩空间 代表色相 饱和度和明度

00:01:49.640 --> 00:01:53.599
以及 HLS 色彩空间 代表色相 亮度和饱和度

00:01:53.599 --> 00:01:57.569
它们是图像分析中最常用的色彩空间

00:01:57.569 --> 00:02:01.759
上述两种色彩空间呈圆柱形

00:02:01.760 --> 00:02:05.070
色相 H 的范围为 0 到 179 度

00:02:05.069 --> 00:02:09.219
下面我们来详细讲解从 RGB 到 HLS 空间的

00:02:09.219 --> 00:02:11.250
数学转换细节

00:02:11.250 --> 00:02:15.189
以 HLS 色彩空间为例

00:02:15.189 --> 00:02:20.090
这种色彩空间可区分出图像中每个像素的亮度值 或称为 L 分量

00:02:20.090 --> 00:02:23.409
L 分量在不同的照明条件下

00:02:23.409 --> 00:02:24.930
取值变化最大

00:02:24.930 --> 00:02:28.590
但是 H 和 S 通道在阴影或过亮的情况下

00:02:28.590 --> 00:02:30.080
几乎保持不变

00:02:30.080 --> 00:02:32.070
如果我们只使用这两条通道

00:02:32.069 --> 00:02:35.719
并舍弃 L 通道的信息 就能检测到

00:02:35.719 --> 00:02:39.639
不同颜色的车道线 而且比使用 RGB 色彩空间更可靠

00:02:40.719 --> 00:02:45.599
这是同一张公路图像 从 RGB 转换成了 HLS 色彩空间

00:02:45.599 --> 00:02:48.969
如果我们将其分解为单独的 H L S 通道

00:02:48.969 --> 00:02:53.889
我们就能实实在在看到这种色彩空间和 RGB 色彩空间之间的不同

00:02:53.889 --> 00:02:57.449
S 通道能非常好地检测车道线

00:02:57.449 --> 00:03:00.544
以及 H 通道的暗色部分

00:03:00.544 --> 00:03:03.905
我们可以使用这个通道创建一个更巧妙的颜色阈值

00:03:03.905 --> 00:03:07.414
这样就能稳定地检测不同颜色的车道线

00:03:07.414 --> 00:03:10.125
下面 我们将展示一个颜色阈值的代码示例

