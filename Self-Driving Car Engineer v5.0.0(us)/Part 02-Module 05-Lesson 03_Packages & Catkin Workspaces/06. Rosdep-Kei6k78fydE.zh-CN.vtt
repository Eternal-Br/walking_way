WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:01.949
我刚刚第一次启动了机器臂

00:00:01.949 --> 00:00:06.040
却发现它旋转时比较松弛

00:00:06.040 --> 00:00:08.789
我要求你找出原因 并给出了提示

00:00:08.789 --> 00:00:10.529
假设你主动思考了

00:00:10.529 --> 00:00:12.330
你可能已经看到了下面这条警告

00:00:12.330 --> 00:00:17.530
“Controller Spawner 无法找到预期的控制器管理器 ROS 接口”

00:00:17.530 --> 00:00:19.690
我准备直接跳到这里的关键行

00:00:19.690 --> 00:00:22.785
似乎缺失了运行时间依赖关系

00:00:22.785 --> 00:00:25.681
ROS 包有两种类型的依赖：

00:00:25.681 --> 00:00:28.405
版本依赖和运行依赖

00:00:28.405 --> 00:00:31.260
首先可以修复版本依赖 使用

00:00:31.260 --> 00:00:35.859
谷歌搜索和 apt-get 安装 ROS kinetic 控制器管理器包

00:00:35.859 --> 00:00:38.850
这样可以保证包构造更加简单 不会引发抱怨

00:00:38.850 --> 00:00:42.509
但运行包时 会收到警告 告诉你功能未达预期

00:00:42.509 --> 00:00:45.100
这时候 rosdep 工具就派上用场了

00:00:45.100 --> 00:00:48.643
Rosdep 工具会检查包有无缺失的依赖关系

00:00:48.643 --> 00:00:51.140
然后现在并安装

00:00:51.140 --> 00:00:52.380
我们来看看

00:00:52.380 --> 00:00:55.350
Simple_arm 包中缺失的依赖关系

00:00:55.350 --> 00:00:58.715
首先 我们关闭 Gazebo 和所有运行的节点

00:00:58.715 --> 00:01:02.950
你可以在 ROS 主控制台窗口中输入 Ctrl C 完成该操作

00:01:02.950 --> 00:01:06.789
现在 在你带设置的 catkin 工作空间中的根目录下 .bash source

00:01:06.789 --> 00:01:08.549
你需要键入命令 rosdep

00:01:08.549 --> 00:01:12.620
check 然后是包的名称

00:01:12.620 --> 00:01:16.555
这里是 simple_arm 然后点击回车键

00:01:16.555 --> 00:01:18.150
这里 我们得到了

00:01:18.150 --> 00:01:21.170
缺失的系统依赖关系列表 以及下载地址

00:01:21.170 --> 00:01:25.504
现在 我们可以使用 apt-get 来安装这些依赖关系 但还有个简便方法

00:01:25.504 --> 00:01:27.450
你可以使用 rosdep 操作

00:01:27.450 --> 00:01:29.584
要让 rospep 安装包

00:01:29.584 --> 00:01:33.049
你需要从 catkin 工作空间的根目录下运行下列命令

00:01:33.049 --> 00:01:41.680
Rosdep Install -I simple_arm 然后点击回车

00:01:41.680 --> 00:01:46.090
然后 脚本会安装缺失的 Debian 包 搞定

00:01:46.090 --> 00:01:50.909
现在 当你启动 simple_arm 包的时候 一切都会和预期的一样

00:01:50.909 --> 00:01:53.849
联合控制器现在应该已经在系统中了

00:01:53.849 --> 00:01:58.069
它会被加载 并且机器臂不会再松散地晃动 就这样

00:01:58.069 --> 00:02:01.844
Gazebo 已经启动 你可以看到 机器臂非常牢靠

00:02:01.844 --> 00:02:04.144
所有包都正确安装后

00:02:04.144 --> 00:02:06.359
你现在可以进一步了解 ROS 包

00:02:06.359 --> 00:02:09.110
为下一堂课的节点编写做好准备了

